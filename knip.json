{
  "$schema": "https://unpkg.com/knip@5/schema.json",
  "workspaces": {
    ".": {
      "entry": ["scripts/**/*.{ts,js}"],
      "project": ["scripts/**/*.{ts,js}"],
      "ignoreDependencies": [
        "msw",
        "@pagespace/db",
        "@pagespace/lib",
        "stripe"
      ],
      "drizzle": false
    },
    "apps/web": {
      "entry": [
        "src/app/**/page.tsx",
        "src/app/**/layout.tsx",
        "src/app/**/route.ts",
        "next.config.ts",
        "postcss.config.mjs",
        "eslint.config.mjs",
        "vitest.config.ts"
      ],
      "project": ["src/**/*.{ts,tsx}", "*.{ts,js,mjs}"],
      "next": {
        "entry": [
          "src/app/**/page.tsx",
          "src/app/**/layout.tsx",
          "src/app/**/route.ts"
        ]
      },
      "ignore": [
        "src/components/ui/**",
        "src/**/__tests__/**"
      ],
      "ignoreDependencies": [
        "eslint-config-next",
        "eslint",
        "@next/eslint-plugin-next",
        "eslint-plugin-react-hooks",
        "monaco-editor",
        "prettier",
        "postcss",
        "tailwindcss",
        "tw-animate-css",
        "@radix-ui/react-navigation-menu",
        "@radix-ui/react-slider",
        "react-day-picker",
        "@types/dompurify",
        "@pagespace/db",
        "@pagespace/lib"
      ]
    },
    "apps/realtime": {
      "entry": ["src/index.ts", "vitest.config.ts"],
      "project": ["src/**/*.ts"]
    },
    "apps/processor": {
      "entry": ["src/server.ts"],
      "project": ["src/**/*.ts"],
      "ignoreDependencies": ["crypto"]
    },
    "apps/desktop": {
      "entry": [
        "src/main/index.ts",
        "src/preload/index.ts",
        "electron.vite.config.ts"
      ],
      "project": ["src/**/*.ts"],
      "ignore": ["src/**/__tests__/**"],
      "ignoreDependencies": [
        "electron",
        "electron-builder",
        "electron-vite"
      ]
    },
    "packages/db": {
      "entry": [
        "src/index.ts",
        "src/migrate.ts",
        "src/promote-admin.ts",
        "src/server.ts",
        "src/test/factories.ts",
        "vitest.config.ts"
      ],
      "project": ["src/**/*.ts"],
      "ignoreDependencies": ["server-only", "@types/bcryptjs"],
      "drizzle": false
    },
    "packages/lib": {
      "entry": [
        "src/index.ts",
        "src/server.ts",
        "src/client.ts",
        "src/client-safe.ts",
        "src/logging/logger.ts",
        "src/logging/logger-config.ts",
        "src/logging/logger-database.ts",
        "src/logging/logger-browser.ts",
        "src/monitoring/activity-tracker.ts",
        "src/monitoring/ai-monitoring.ts",
        "src/monitoring/ai-context-calculator.ts",
        "src/auth/auth-utils.ts",
        "src/auth/device-auth-utils.ts",
        "src/auth/device-fingerprint-utils.ts",
        "src/auth/broadcast-auth.ts",
        "src/auth/verification-utils.ts",
        "src/utils/api-utils.ts",
        "src/permissions/permissions-cached.ts",
        "src/services/storage-limits.ts",
        "src/services/subscription-utils.ts",
        "src/services/upload-semaphore.ts",
        "src/services/memory-monitor.ts",
        "src/services/permission-cache.ts",
        "src/services/email-service.ts",
        "src/utils/environment.ts",
        "src/utils/file-security.ts",
        "src/pages/circular-reference-guard.ts",
        "src/email-templates/VerificationEmail.tsx",
        "src/test/auth-helpers.ts",
        "vitest.config.ts"
      ],
      "project": ["src/**/*.{ts,tsx}"],
      "ignore": ["src/**/__tests__/**"],
      "ignoreDependencies": ["server-only", "@react-email/preview-server", "@types/xlsx"]
    }
  },
  "ignore": [
    "**/node_modules/**",
    "**/dist/**",
    "**/.next/**",
    "**/out/**",
    "**/coverage/**",
    "**/*.d.ts",
    "**/migrations/**",
    "**/drizzle.config.ts"
  ],
  "ignoreExportsUsedInFile": true,
  "includeEntryExports": false
}
